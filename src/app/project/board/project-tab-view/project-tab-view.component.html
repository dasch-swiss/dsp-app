<p>Metadata for selected project is listed below.</p>

<div class="properties-container">
    <div class="properties">
        <div *ngFor="let prop of metadata | keyvalue; let last = last; let i = index;" class="border-bottom">
            <div class="property" *ngIf="excludeKeys.indexOf(prop.key) < 0">
                <div class="property-label">
                    <h3 class="label mat-subheading-1">
                        {{ prop.key }}
                    </h3>
                </div>
                <div ngSwitch="{{ prop.key }}" class="property-value">

                    <!-- #################### template for discipline ################# -->
                    <div *ngSwitchCase="'discipline'">
                        <a href="{{ metadata['discipline']['url'] }}" target="_blank"> {{ metadata['discipline']['name'] }} </a>
                    </div>

                    <!-- #################### template for temporalCoverage ################# -->
                    <div *ngSwitchCase="'temporalCoverage'">
                        <a href="{{ metadata['temporalCoverage']['url'] }}" target="_blank"> {{ metadata['temporalCoverage']['name'] }} </a>
                    </div>

                    <!-- #################### template for discipline ################# -->
                    <div *ngSwitchCase="'url'">
                        <a href="{{ metadata['url']['value'] }}" target="_blank"> {{ metadata['url']['value'] }} </a>
                    </div>

                    <!-- #################### template for keywords ################# -->
                    <div *ngSwitchCase="'keywords'">
                        <mat-chip-list>
                            <mat-chip *ngFor="let k of metadata['keywords']"> {{ k }} </mat-chip>
                        </mat-chip-list>
                    </div>

                    <!-- #################### template for dataManagementPlan ################# -->
                    <div *ngSwitchCase="'dataManagementPlan'">
                        <p style="margin-top: 4px;">
                            URL: <a href="{{ metadata['dataManagementPlan']['url']['value'] }}" target="_blank"> {{ metadata['dataManagementPlan']['url']['value'] }} </a>
                        </p>
                        <p>isAvailable: {{ metadata['dataManagementPlan']['isAvailable'] }}</p>
                    </div>

                    <!-- #################### template for dataManagementPlan ################# -->
                    <div *ngSwitchCase="'grant'">
                        <div class="contact-contents grant-contact">
                            <p> {{ metadata['grant']['name'] }} </p>
                            <div class="mat-icon-text">
                                <mat-icon aria-hidden="false" aria-label="Call" class="small">call</mat-icon>
                                <a href="tel:{{ metadata['grant']['number'] }}"> {{ metadata['grant']['number'] }} </a>
                            </div>

                            <div class="member">
                                <h4>URL:</h4>
                                <a href="{{ metadata['grant']['url']['value'] }}" target="_blank"> {{ metadata['grant']['url']['value'] }} </a>
                            </div>

                            <h4 style="margin-bottom: 5px;">Funder:</h4>
                            <div class="funder-contents">
                                <a href="{{ metadata['grant']['url']['value'] }}" target="_blank"> {{ metadata['grant']['name'] }} </a>
                                <section class="address">
                                    <h4>Address:</h4>
                                    <address>
                                        {{ metadata['grant']['funder']['address']['streetAddress'] }} <br>
                                        {{ metadata['grant']['funder']['address']['postalCode'] }} {{ metadata['grant']['funder']['address']['addressLocality'] }}
                                    </address>
                                </section>
                                <section class="email mat-icon-text">
                                    <mat-icon aria-hidden="false" aria-label="Email" class="small">email</mat-icon>
                                    <a href="mailto:{{ metadata['grant']['funder']['email'] }}"> {{ metadata['grant']['funder']['email'] }} </a>
                                </section>
                            </div>
                        </div>
                    </div>

                    <!-- #################### template for dataManagementPlan ################# -->
                    <div *ngSwitchCase="'spatialCoverage'">
                        <div *ngFor="let coverage of metadata['spatialCoverage'] | keyvalue;">
                            <a href="{{ coverage.value['place']['url'] }}" target="_blank"> {{ coverage.value['place']['name'] }} </a>
                        </div>
                    </div>

                    <!-- #################### default template ################# -->
                    <div *ngSwitchDefault>
                        <div *ngIf="dateKeys.indexOf(prop.key) < 0;">
                            {{ prop.value }}
                        </div>
                        <div *ngIf="dateKeys.indexOf(prop.key) > -1;">
                            {{ prop.value | date:'MMMM d, yyyy' }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
